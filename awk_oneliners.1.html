<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>awk(1) - HANDY ONE-LINERS FOR AWK</title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#NAME">NAME</a>
    <a href="#USAGE-">USAGE:</a>
    <a href="#Unix-awk-pattern-print-1-standard-Unix-shells">Unix:  awk '/pattern/ {print &quot;$1&quot;}'    # standard Unix shells</a>
    <a href="#FILE-SPACING-">FILE SPACING:</a>
    <a href="#double-space-a-file">double space a file</a>
    <a href="#double-space-a-file-which-already-has-blank-lines-in-it-Output-file">double space a file which already has blank lines in it. Output file</a>
    <a href="#should-contain-no-more-than-one-blank-line-between-lines-of-text-">should contain no more than one blank line between lines of text.</a>
    <a href="#NOTE-On-Unix-systems-DOS-lines-which-have-only-CRLF-r-n-are">NOTE: On Unix systems, DOS lines which have only CRLF (\r\n) are</a>
    <a href="#often-treated-as-non-blank-and-thus-NF-alone-will-return-TRUE-">often treated as non-blank, and thus 'NF' alone will return TRUE.</a>
    <a href="#triple-space-a-file">triple space a file</a>
    <a href="#precede-each-line-by-its-line-number-FOR-THAT-FILE-left-alignment-">precede each line by its line number FOR THAT FILE (left alignment).</a>
    <a href="#Using-a-tab-t-instead-of-space-will-preserve-margins-">Using a tab (\t) instead of space will preserve margins.</a>
    <a href="#precede-each-line-by-its-line-number-FOR-ALL-FILES-TOGETHER-with-tab-">precede each line by its line number FOR ALL FILES TOGETHER, with tab.</a>
    <a href="#number-each-line-of-a-file-number-on-left-right-aligned-">number each line of a file (number on left, right-aligned)</a>
    <a href="#Double-the-percent-signs-if-typing-from-the-DOS-command-prompt-">Double the percent signs if typing from the DOS command prompt.</a>
    <a href="#number-each-line-of-file-but-only-print-numbers-if-line-is-not-blank">number each line of file, but only print numbers if line is not blank</a>
    <a href="#Remember-caveats-about-Unix-treatment-of-r-mentioned-above-">Remember caveats about Unix treatment of \r (mentioned above)</a>
    <a href="#count-lines-emulates-wc-l-">count lines (emulates &quot;wc -l&quot;)</a>
    <a href="#print-the-sums-of-the-fields-of-every-line">print the sums of the fields of every line</a>
    <a href="#add-all-fields-in-all-lines-and-print-the-sum">add all fields in all lines and print the sum</a>
    <a href="#print-every-line-after-replacing-each-field-with-its-absolute-value">print every line after replacing each field with its absolute value</a>
    <a href="#print-the-total-number-of-fields-words-in-all-lines">print the total number of fields (&quot;words&quot;) in all lines</a>
    <a href="#print-the-total-number-of-lines-that-contain-Beth-">print the total number of lines that contain &quot;Beth&quot;</a>
    <a href="#print-the-largest-first-field-and-the-line-that-contains-it">print the largest first field and the line that contains it</a>
    <a href="#Intended-for-finding-the-longest-string-in-field-1">Intended for finding the longest string in field #1</a>
    <a href="#print-the-number-of-fields-in-each-line-followed-by-the-line">print the number of fields in each line, followed by the line</a>
    <a href="#print-the-last-field-of-each-line">print the last field of each line</a>
    <a href="#print-the-last-field-of-the-last-line">print the last field of the last line</a>
    <a href="#print-every-line-with-more-than-4-fields">print every line with more than 4 fields</a>
    <a href="#print-every-line-where-the-value-of-the-last-field-is-4">print every line where the value of the last field is &gt; 4</a>
    <a href="#IN-UNIX-ENVIRONMENT-convert-DOS-newlines-CR-LF-to-Unix-format">IN UNIX ENVIRONMENT: convert DOS newlines (CR/LF) to Unix format</a>
    <a href="#IN-UNIX-ENVIRONMENT-convert-Unix-newlines-LF-to-DOS-format">IN UNIX ENVIRONMENT: convert Unix newlines (LF) to DOS format</a>
    <a href="#IN-DOS-ENVIRONMENT-convert-Unix-newlines-LF-to-DOS-format">IN DOS ENVIRONMENT: convert Unix newlines (LF) to DOS format</a>
    <a href="#IN-DOS-ENVIRONMENT-convert-DOS-newlines-CR-LF-to-Unix-format">IN DOS ENVIRONMENT: convert DOS newlines (CR/LF) to Unix format</a>
    <a href="#Cannot-be-done-with-DOS-versions-of-awk-other-than-gawk-">Cannot be done with DOS versions of awk, other than gawk:</a>
    <a href="#Use-tr-instead-">Use &quot;tr&quot; instead.</a>
    <a href="#tr-d-r-infile-outfile-GNU-tr-version-1-22-or-higher">tr -d \r infile outfile            GNU tr version 1.22 or higher</a>
    <a href="#delete-leading-whitespace-spaces-tabs-from-front-of-each-line">delete leading whitespace (spaces, tabs) from front of each line</a>
    <a href="#aligns-all-text-flush-left">aligns all text flush left</a>
    <a href="#delete-trailing-whitespace-spaces-tabs-from-end-of-each-line">delete trailing whitespace (spaces, tabs) from end of each line</a>
    <a href="#delete-BOTH-leading-and-trailing-whitespace-from-each-line">delete BOTH leading and trailing whitespace from each line</a>
    <a href="#insert-5-blank-spaces-at-beginning-of-each-line-make-page-offset-">insert 5 blank spaces at beginning of each line (make page offset)</a>
    <a href="#align-all-text-flush-right-on-a-79-column-width">align all text flush right on a 79-column width</a>
    <a href="#center-all-text-on-a-79-character-width">center all text on a 79-character width</a>
    <a href="#substitute-find-and-replace-foo-with-bar-on-each-line">substitute (find and replace) &quot;foo&quot; with &quot;bar&quot; on each line</a>
    <a href="#gawk-0-gensub-foo-bar-4-print-replaces-only-4th-instance">gawk '{$0=gensub(/foo/,&quot;bar&quot;,4);print}'  replaces only 4th instance</a>
    <a href="#substitute-foo-with-bar-ONLY-for-lines-which-contain-baz-">substitute &quot;foo&quot; with &quot;bar&quot; ONLY for lines which contain &quot;baz&quot;</a>
    <a href="#substitute-foo-with-bar-EXCEPT-for-lines-which-contain-baz-">substitute &quot;foo&quot; with &quot;bar&quot; EXCEPT for lines which contain &quot;baz&quot;</a>
    <a href="#change-scarlet-or-ruby-or-puce-to-red-">change &quot;scarlet&quot; or &quot;ruby&quot; or &quot;puce&quot; to &quot;red&quot;</a>
    <a href="#reverse-order-of-lines-emulates-tac-">reverse order of lines (emulates &quot;tac&quot;)</a>
    <a href="#if-a-line-ends-with-a-backslash-append-the-next-line-to-it">if a line ends with a backslash, append the next line to it</a>
    <a href="#-fails-if-there-are-multiple-lines-ending-with-backslash-">(fails if there are multiple lines ending with backslash...)</a>
    <a href="#print-and-sort-the-login-names-of-all-users">print and sort the login names of all users</a>
    <a href="#print-the-first-2-fields-in-opposite-order-of-every-line">print the first 2 fields, in opposite order, of every line</a>
    <a href="#switch-the-first-2-fields-of-every-line">switch the first 2 fields of every line</a>
    <a href="#print-every-line-deleting-the-second-field-of-that-line">print every line, deleting the second field of that line</a>
    <a href="#print-in-reverse-order-the-fields-of-every-line">print in reverse order the fields of every line</a>
    <a href="#remove-duplicate-consecutive-lines-emulates-uniq-">remove duplicate, consecutive lines (emulates &quot;uniq&quot;)</a>
    <a href="#remove-duplicate-nonconsecutive-lines">remove duplicate, nonconsecutive lines</a>
    <a href="#concatenate-every-5-lines-of-input-using-a-comma-separator">concatenate every 5 lines of input, using a comma separator</a>
    <a href="#between-fields">between fields</a>
    <a href="#print-first-10-lines-of-file-emulates-behavior-of-head-">print first 10 lines of file (emulates behavior of &quot;head&quot;)</a>
    <a href="#print-first-line-of-file-emulates-head-1-">print first line of file (emulates &quot;head -1&quot;)</a>
    <a href="#print-the-last-2-lines-of-a-file-emulates-tail-2-">print the last 2 lines of a file (emulates &quot;tail -2&quot;)</a>
    <a href="#print-the-last-line-of-a-file-emulates-tail-1-">print the last line of a file (emulates &quot;tail -1&quot;)</a>
    <a href="#print-only-lines-which-match-regular-expression-emulates-grep-">print only lines which match regular expression (emulates &quot;grep&quot;)</a>
    <a href="#print-only-lines-which-do-NOT-match-regex-emulates-grep-v-">print only lines which do NOT match regex (emulates &quot;grep -v&quot;)</a>
    <a href="#print-the-line-immediately-before-a-regex-but-not-the-line">print the line immediately before a regex, but not the line</a>
    <a href="#containing-the-regex">containing the regex</a>
    <a href="#print-the-line-immediately-after-a-regex-but-not-the-line">print the line immediately after a regex, but not the line</a>
    <a href="#containing-the-regex">containing the regex</a>
    <a href="#grep-for-AAA-and-BBB-and-CCC-in-any-order-">grep for AAA and BBB and CCC (in any order)</a>
    <a href="#grep-for-AAA-and-BBB-and-CCC-in-that-order-">grep for AAA and BBB and CCC (in that order)</a>
    <a href="#print-only-lines-of-65-characters-or-longer">print only lines of 65 characters or longer</a>
    <a href="#print-only-lines-of-less-than-65-characters">print only lines of less than 65 characters</a>
    <a href="#print-section-of-file-from-regular-expression-to-end-of-file">print section of file from regular expression to end of file</a>
    <a href="#print-section-of-file-based-on-line-numbers-lines-8-12-inclusive-">print section of file based on line numbers (lines 8-12, inclusive)</a>
    <a href="#print-line-number-52">print line number 52</a>
    <a href="#print-section-of-file-between-two-regular-expressions-inclusive-">print section of file between two regular expressions (inclusive)</a>
    <a href="#delete-ALL-blank-lines-from-a-file-same-as-grep-">delete ALL blank lines from a file (same as &quot;grep '.' &quot;)</a>
    <a href="#REFERECE">REFERECE</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>awk(1)</li>
    <li class='tc'></li>
    <li class='tr'>awk(1)</li>
  </ol>

  <h2 id="NAME">NAME</h2>
<p class="man-name">
  <code>awk</code> - <span class="man-whatis">HANDY ONE-LINERS FOR AWK</span>
</p>

<h2 id="USAGE-">USAGE:</h2>

<h2 id="Unix-awk-pattern-print-1-standard-Unix-shells">Unix:  awk '/pattern/ {print "$1"}'    # standard Unix shells</h2>

<h2 id="FILE-SPACING-">FILE SPACING:</h2>

<h2 id="double-space-a-file">double space a file</h2>

<pre><code>awk '1;{print ""}
awk 'BEGIN{ORS="\n\n"};1'
</code></pre>

<h2 id="double-space-a-file-which-already-has-blank-lines-in-it-Output-file">double space a file which already has blank lines in it. Output file</h2>

<h2 id="should-contain-no-more-than-one-blank-line-between-lines-of-text-">should contain no more than one blank line between lines of text.</h2>

<h2 id="NOTE-On-Unix-systems-DOS-lines-which-have-only-CRLF-r-n-are">NOTE: On Unix systems, DOS lines which have only CRLF (\r\n) are</h2>

<h2 id="often-treated-as-non-blank-and-thus-NF-alone-will-return-TRUE-">often treated as non-blank, and thus 'NF' alone will return TRUE.</h2>

<pre><code>awk 'NF{print $0 "\n"}'
</code></pre>

<h2 id="triple-space-a-file">triple space a file</h2>

<pre><code>awk '1;{print "\n"}'
</code></pre>

<h2 id="precede-each-line-by-its-line-number-FOR-THAT-FILE-left-alignment-">precede each line by its line number FOR THAT FILE (left alignment).</h2>

<h2 id="Using-a-tab-t-instead-of-space-will-preserve-margins-">Using a tab (\t) instead of space will preserve margins.</h2>

<pre><code>awk '{print FNR "\t" $0}' files*
</code></pre>

<h2 id="precede-each-line-by-its-line-number-FOR-ALL-FILES-TOGETHER-with-tab-">precede each line by its line number FOR ALL FILES TOGETHER, with tab.</h2>

<pre><code>awk '{print NR "\t" $0}' files*
</code></pre>

<h2 id="number-each-line-of-a-file-number-on-left-right-aligned-">number each line of a file (number on left, right-aligned)</h2>

<h2 id="Double-the-percent-signs-if-typing-from-the-DOS-command-prompt-">Double the percent signs if typing from the DOS command prompt.</h2>

<pre><code>awk '{printf("%5d : %s\n", NR,$0)}'
</code></pre>

<h2 id="number-each-line-of-file-but-only-print-numbers-if-line-is-not-blank">number each line of file, but only print numbers if line is not blank</h2>

<h2 id="Remember-caveats-about-Unix-treatment-of-r-mentioned-above-">Remember caveats about Unix treatment of \r (mentioned above)</h2>

<pre><code>awk 'NF{$0=++a " :" $0};{print}'
awk '{print (NF? ++a " :" :"") $0}'
</code></pre>

<h2 id="count-lines-emulates-wc-l-">count lines (emulates "wc -l")</h2>

<pre><code>awk 'END{print NR}'
</code></pre>

<h2 id="print-the-sums-of-the-fields-of-every-line">print the sums of the fields of every line</h2>

<pre><code>awk '{s=0; for (i=1; i&lt;=NF; i++) s=s+$i; print s}'
</code></pre>

<h2 id="add-all-fields-in-all-lines-and-print-the-sum">add all fields in all lines and print the sum</h2>

<pre><code>awk '{for (i=1; i&lt;=NF; i++) s=s+$i}; END{print s}'
</code></pre>

<h2 id="print-every-line-after-replacing-each-field-with-its-absolute-value">print every line after replacing each field with its absolute value</h2>

<pre><code>awk '{for (i=1; i&lt;=NF; i++) if ($i &lt; 0) $i = -$i; print }'
awk '{for (i=1; i&lt;=NF; i++) $i = ($i &lt; 0) ? -$i : $i; print }'
</code></pre>

<h2 id="print-the-total-number-of-fields-words-in-all-lines">print the total number of fields ("words") in all lines</h2>

<pre><code>awk '{ total = total + NF }; END {print total}' file
</code></pre>

<h2 id="print-the-total-number-of-lines-that-contain-Beth-">print the total number of lines that contain "Beth"</h2>

<pre><code>awk '/Beth/{n++}; END {print n+0}' file
</code></pre>

<h2 id="print-the-largest-first-field-and-the-line-that-contains-it">print the largest first field and the line that contains it</h2>

<h2 id="Intended-for-finding-the-longest-string-in-field-1">Intended for finding the longest string in field #1</h2>

<pre><code>awk '$1 &gt; max {max=$1; maxline=$0}; END{ print max, maxline}'
</code></pre>

<h2 id="print-the-number-of-fields-in-each-line-followed-by-the-line">print the number of fields in each line, followed by the line</h2>

<pre><code>awk '{ print NF ":" $0 } '
</code></pre>

<h2 id="print-the-last-field-of-each-line">print the last field of each line</h2>

<pre><code>awk '{ print $NF }'
</code></pre>

<h2 id="print-the-last-field-of-the-last-line">print the last field of the last line</h2>

<pre><code>awk '{ field = $NF }; END{ print field }'
</code></pre>

<h2 id="print-every-line-with-more-than-4-fields">print every line with more than 4 fields</h2>

<pre><code>awk 'NF &gt; 4'
</code></pre>

<h2 id="print-every-line-where-the-value-of-the-last-field-is-4">print every line where the value of the last field is > 4</h2>

<pre><code>awk '$NF &gt; 4'
</code></pre>

<h2 id="IN-UNIX-ENVIRONMENT-convert-DOS-newlines-CR-LF-to-Unix-format">IN UNIX ENVIRONMENT: convert DOS newlines (CR/LF) to Unix format</h2>

<pre><code>awk '{sub(/\r$/,"");print}'   assumes EACH line ends with Ctrl-M
</code></pre>

<h2 id="IN-UNIX-ENVIRONMENT-convert-Unix-newlines-LF-to-DOS-format">IN UNIX ENVIRONMENT: convert Unix newlines (LF) to DOS format</h2>

<pre><code>awk '{sub(/$/,"\r");print}
</code></pre>

<h2 id="IN-DOS-ENVIRONMENT-convert-Unix-newlines-LF-to-DOS-format">IN DOS ENVIRONMENT: convert Unix newlines (LF) to DOS format</h2>

<pre><code>awk 1
</code></pre>

<h2 id="IN-DOS-ENVIRONMENT-convert-DOS-newlines-CR-LF-to-Unix-format">IN DOS ENVIRONMENT: convert DOS newlines (CR/LF) to Unix format</h2>

<h2 id="Cannot-be-done-with-DOS-versions-of-awk-other-than-gawk-">Cannot be done with DOS versions of awk, other than gawk:</h2>

<pre><code>gawk -v BINMODE="w" '1' infile &gt;outfile
</code></pre>

<h2 id="Use-tr-instead-">Use "tr" instead.</h2>

<h2 id="tr-d-r-infile-outfile-GNU-tr-version-1-22-or-higher">tr -d \r <var>infile </var>outfile            GNU tr version 1.22 or higher</h2>

<h2 id="delete-leading-whitespace-spaces-tabs-from-front-of-each-line">delete leading whitespace (spaces, tabs) from front of each line</h2>

<h2 id="aligns-all-text-flush-left">aligns all text flush left</h2>

<pre><code>awk '{sub(/^[ \t]+/, ""); print}'
</code></pre>

<h2 id="delete-trailing-whitespace-spaces-tabs-from-end-of-each-line">delete trailing whitespace (spaces, tabs) from end of each line</h2>

<pre><code>awk '{sub(/[ \t]+$/, "");print}'
</code></pre>

<h2 id="delete-BOTH-leading-and-trailing-whitespace-from-each-line">delete BOTH leading and trailing whitespace from each line</h2>

<pre><code>awk '{gsub(/^[ \t]+|[ \t]+$/,"");print}'
awk '{$1=$1;print}'           also removes extra space between fields
</code></pre>

<h2 id="insert-5-blank-spaces-at-beginning-of-each-line-make-page-offset-">insert 5 blank spaces at beginning of each line (make page offset)</h2>

<pre><code>awk '{sub(/^/, "     ");print}'
</code></pre>

<h2 id="align-all-text-flush-right-on-a-79-column-width">align all text flush right on a 79-column width</h2>

<pre><code>awk '{printf "%79s\n", $0}' file*
</code></pre>

<h2 id="center-all-text-on-a-79-character-width">center all text on a 79-character width</h2>

<pre><code>awk '{l=length();s=int((79-l)/2); printf "%"(s+l)"s\n",$0}' file*
</code></pre>

<h2 id="substitute-find-and-replace-foo-with-bar-on-each-line">substitute (find and replace) "foo" with "bar" on each line</h2>

<pre><code>awk '{sub(/foo/,"bar");print}'           replaces only 1st instance
</code></pre>

<h2 id="gawk-0-gensub-foo-bar-4-print-replaces-only-4th-instance">gawk '{$0=gensub(/foo/,"bar",4);print}'  replaces only 4th instance</h2>

<pre><code>awk '{gsub(/foo/,"bar");print}'          replaces ALL instances in a line
</code></pre>

<h2 id="substitute-foo-with-bar-ONLY-for-lines-which-contain-baz-">substitute "foo" with "bar" ONLY for lines which contain "baz"</h2>

<pre><code>awk '/baz/{gsub(/foo/, "bar")};{print}'
</code></pre>

<h2 id="substitute-foo-with-bar-EXCEPT-for-lines-which-contain-baz-">substitute "foo" with "bar" EXCEPT for lines which contain "baz"</h2>

<pre><code>awk '!/baz/{gsub(/foo/, "bar")};{print}'
</code></pre>

<h2 id="change-scarlet-or-ruby-or-puce-to-red-">change "scarlet" or "ruby" or "puce" to "red"</h2>

<pre><code>awk '{gsub(/scarlet|ruby|puce/, "red"); print}'
</code></pre>

<h2 id="reverse-order-of-lines-emulates-tac-">reverse order of lines (emulates "tac")</h2>

<pre><code>awk '{a[i++]=$0} END {for (j=i-1; j&gt;=0;) print a[j--] }' file*
</code></pre>

<h2 id="if-a-line-ends-with-a-backslash-append-the-next-line-to-it">if a line ends with a backslash, append the next line to it</h2>

<h2 id="-fails-if-there-are-multiple-lines-ending-with-backslash-">(fails if there are multiple lines ending with backslash...)</h2>

<pre><code>awk '/\\$/ {sub(/\\$/,""); getline t; print $0 t; next}; 1' file*
</code></pre>

<h2 id="print-and-sort-the-login-names-of-all-users">print and sort the login names of all users</h2>

<pre><code>awk -F ":" '{ print $1 | "sort" }' /etc/passwd
</code></pre>

<h2 id="print-the-first-2-fields-in-opposite-order-of-every-line">print the first 2 fields, in opposite order, of every line</h2>

<pre><code>awk '{print $2, $1}' file
</code></pre>

<h2 id="switch-the-first-2-fields-of-every-line">switch the first 2 fields of every line</h2>

<pre><code>awk '{temp = $1; $1 = $2; $2 = temp}' file
</code></pre>

<h2 id="print-every-line-deleting-the-second-field-of-that-line">print every line, deleting the second field of that line</h2>

<pre><code>awk '{ $2 = ""; print }'
</code></pre>

<h2 id="print-in-reverse-order-the-fields-of-every-line">print in reverse order the fields of every line</h2>

<pre><code>awk '{for (i=NF; i&gt;0; i--) printf("%s ",i);printf ("\n")}' file
</code></pre>

<h2 id="remove-duplicate-consecutive-lines-emulates-uniq-">remove duplicate, consecutive lines (emulates "uniq")</h2>

<pre><code>awk 'a !~ $0; {a=$0}'
</code></pre>

<h2 id="remove-duplicate-nonconsecutive-lines">remove duplicate, nonconsecutive lines</h2>

<pre><code>awk '! a[$0]++'                     most concise script
awk '!($0 in a) {a[$0];print}'      most efficient script
</code></pre>

<h2 id="concatenate-every-5-lines-of-input-using-a-comma-separator">concatenate every 5 lines of input, using a comma separator</h2>

<h2 id="between-fields">between fields</h2>

<pre><code>awk 'ORS=%NR%5?",":"\n"' file
</code></pre>

<h2 id="print-first-10-lines-of-file-emulates-behavior-of-head-">print first 10 lines of file (emulates behavior of "head")</h2>

<pre><code>awk 'NR &lt; 11'
</code></pre>

<h2 id="print-first-line-of-file-emulates-head-1-">print first line of file (emulates "head -1")</h2>

<pre><code>awk 'NR>1{exit};1'
</code></pre>

<h2 id="print-the-last-2-lines-of-a-file-emulates-tail-2-">print the last 2 lines of a file (emulates "tail -2")</h2>

<pre><code>awk '{y=x "\n" $0; x=$0};END{print y}'
</code></pre>

<h2 id="print-the-last-line-of-a-file-emulates-tail-1-">print the last line of a file (emulates "tail -1")</h2>

<pre><code>awk 'END{print}'
</code></pre>

<h2 id="print-only-lines-which-match-regular-expression-emulates-grep-">print only lines which match regular expression (emulates "grep")</h2>

<pre><code>awk '/regex/'
</code></pre>

<h2 id="print-only-lines-which-do-NOT-match-regex-emulates-grep-v-">print only lines which do NOT match regex (emulates "grep -v")</h2>

<pre><code>awk '!/regex/'
</code></pre>

<h2 id="print-the-line-immediately-before-a-regex-but-not-the-line">print the line immediately before a regex, but not the line</h2>

<h2 id="containing-the-regex">containing the regex</h2>

<pre><code>awk '/regex/{print x};{x=$0}'
awk '/regex/{print (x=="" ? "match on line 1" : x)};{x=$0}'
</code></pre>

<h2 id="print-the-line-immediately-after-a-regex-but-not-the-line">print the line immediately after a regex, but not the line</h2>

<h2 id="containing-the-regex">containing the regex</h2>

<pre><code>awk '/regex/{getline;print}'
</code></pre>

<h2 id="grep-for-AAA-and-BBB-and-CCC-in-any-order-">grep for AAA and BBB and CCC (in any order)</h2>

<pre><code>awk '/AAA/; /BBB/; /CCC/'
</code></pre>

<h2 id="grep-for-AAA-and-BBB-and-CCC-in-that-order-">grep for AAA and BBB and CCC (in that order)</h2>

<pre><code>awk '/AAA.*BBB.*CCC/'
</code></pre>

<h2 id="print-only-lines-of-65-characters-or-longer">print only lines of 65 characters or longer</h2>

<pre><code>awk 'length &gt; 64'
</code></pre>

<h2 id="print-only-lines-of-less-than-65-characters">print only lines of less than 65 characters</h2>

<pre><code>awk 'length &lt; 64'
</code></pre>

<h2 id="print-section-of-file-from-regular-expression-to-end-of-file">print section of file from regular expression to end of file</h2>

<pre><code>awk '/regex/,0'
awk '/regex/,EOF'
</code></pre>

<h2 id="print-section-of-file-based-on-line-numbers-lines-8-12-inclusive-">print section of file based on line numbers (lines 8-12, inclusive)</h2>

<pre><code>awk 'NR==8,NR==12'
</code></pre>

<h2 id="print-line-number-52">print line number 52</h2>

<pre><code>awk 'NR==52'
awk 'NR==52 {print;exit}'          more efficient on large files
</code></pre>

<h2 id="print-section-of-file-between-two-regular-expressions-inclusive-">print section of file between two regular expressions (inclusive)</h2>

<pre><code>awk '/Iowa/,/Montana/'             case sensitive
</code></pre>

<h2 id="delete-ALL-blank-lines-from-a-file-same-as-grep-">delete ALL blank lines from a file (same as "grep '.' ")</h2>

<pre><code>awk NF
awk '/./'
</code></pre>

<h2 id="REFERECE">REFERECE</h2>

<p><a href="http://www.catonmat.net/blog/wp-content/uploads/2008/09/awk1line.txt" data-bare-link="true">http://www.catonmat.net/blog/wp-content/uploads/2008/09/awk1line.txt</a></p>


  <ol class='man-decor man-foot man foot'>
    <li class='tl'></li>
    <li class='tc'>July 2011</li>
    <li class='tr'>awk(1)</li>
  </ol>

  </div>
</body>
</html>
